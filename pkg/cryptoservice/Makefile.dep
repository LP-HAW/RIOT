
USEMODULE += cryptoservice

USEMODULE += psa_hash
USEMODULE += psa_hash_sha_256
USEMODULE += psa_asymmetric
USEMODULE += psa_asymmetric_ecc_p256r1
USEMODULE += psa_cipher
USEMODULE += psa_cipher_aes_128_cbc

ifneq (,$(filter psa_crypto,$(USEMODULE)))
  USEMODULE += psa_cryptoservice
endif

ifneq (,$(filter psa_secure_element,$(USEMODULE)))
  USEMODULE += psa_cryptoservice_se
endif

ifneq (,$(filter psa_cryptoservice_p256,$(USEMODULE)))
  USEMODULE += psa_hash
  USEMODULE += psa_hash_sha_256
  USEMODULE += psa_asymmetric
  USEMODULE += psa_asymmetric_ecc_p256r1
endif

ifneq (,$(filter psa_cryptoservice_aes128,$(USEMODULE)))
  USEMODULE += psa_cipher
  USEMODULE += psa_cipher_aes_128_cbc
endif

ifneq (,$(filter psa_secure_element_cryptoservice_ecc_p256, $(USEMODULE)))
  USEMODULE += psa_asymmetric
endif

ifneq (,$(filter psa_secure_element_cryptoservice_cipher_aes_128, $(USEMODULE)))
  USEMODULE += psa_cipher
endif

ifneq (,$(filter psa_secure_element_cryptoservice_hmac_sha256, $(USEMODULE)))
  USEMODULE += psa_mac
endif
